<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Received Order - {{ order.id }}</title>
  <style>
    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 12px;
      color: #333;
      margin: 0;
      padding: 20px;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    p {
      margin: 5px 0;
    }

    strong {
      width: 120px;
      display: inline-block;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table th, table td {
      border: 1px solid #aaa;
      padding: 8px;
      text-align: left;
    }

    table th {
      background-color: #f2f2f2;
    }

    .text-right {
      text-align: right;
    }

    .signature {
      margin-top: 50px;
      text-align: left;
    }

    .header-info {
      margin-bottom: 20px;
    }

    .header-info p {
      margin: 3px 0;
    }
  </style>
</head>
<body>

  <h2>Received Order</h2>

  <div class="header-info">
    <p><strong>Order ID:</strong> {{ order.id }}</p>
    <p><strong>Warehouse:</strong> {{ warehouse.name }}</p>

    <p><strong>Requested By:</strong>
        {{ order.requested_by.username }} ({{ order.created_at|date:"d M Y, H:i" }})
    </p>

    <p><strong>Approved By:</strong>
        {% if order.approved_by %}
            {{ order.approved_by.username }} ({{ order.approved_at|date:"d M Y, H:i" }})
        {% else %}
            —
        {% endif %}
    </p>

    <p><strong>Received By:</strong>
        {% if order.received_by %}
            {{ order.received_by.username }} ({{ order.received_at|date:"d M Y, H:i" }})
        {% else %}
            —
        {% endif %}
    </p>
  </div>


  <table>
    <thead>
      <tr>
        <th>Product</th>
        <th>SKU</th>
        <th class="text-right">Quantity</th>
        <th>Unit</th>
        <th class="text-right">Rate</th>
        <th class="text-right">Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td>{{ item.name }}</td>
        <td>{{ item.sku }}</td>
        <td class="text-right">{{ item.qty }}</td>
        <td>{{ item.unit }}</td>
        <td class="text-right">₹{{ item.rate }}</td>
        <td class="text-right">₹{{ item.amount }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div style="margin-top:50px; border-top:1px solid #000; padding-top:20px; display:flex; justify-content:space-between;">
    <div>
        <strong>Authorised Signatory</strong><br/><br/>
            {% if signature.signed_by %}
            {{ signature.signed_by }}<br/>
            {% else %}
            —
            {% endif %}
            {% if signature.company %}
            {{ signature.company }}<br/>
            {% endif %}
            {% if signature.role %}
            {{ signature.role }}
            {% endif %}
            {% if signature.signed_at %}
            <br/>Signed on: {{ signature.signed_at|date:"d M Y, H:i" }}
            {% endif %}
        </div>

        <div style="text-align:right; max-width:300px;">
            <em>{{ signature.statement }}</em>
        </div>
    </div>

    <p style="text-align:center; margin-top:20px;"><em>This is a computer-generated document and does not require a physical signature.</em></p>


</body>
</html>

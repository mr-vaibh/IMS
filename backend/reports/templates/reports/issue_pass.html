<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 10.5px;
      color: #000;
      margin: 10mm;
    }

    .pass {
      border: 1px solid #000;
      padding: 12px;      /* reduced */
    }

    .divider {
      border-top: 2px dashed #000;
      margin: 16px 0;     /* reduced */
    }

    .header {
      text-align: center;
      margin-bottom: 8px; /* reduced */
    }

    .company-name {
      font-size: 15px;    /* reduced */
      font-weight: bold;
      letter-spacing: 0.4px;
    }

    .subtitle {
      font-size: 10px;
      margin-top: 2px;
      color: #444;
    }

    .title {
      margin-top: 6px;
      font-size: 13px;
      font-weight: bold;
      text-decoration: underline;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;   /* reduced */
    }

    td, th {
      border: 1px solid #000;
      padding: 5px;      /* reduced */
      vertical-align: top;
    }

    .label {
      width: 30%;
      font-weight: bold;
      background: #fafafa;
    }

    .value {
      width: 70%;
    }

    .signature {
      margin-top: 28px;  /* reduced */
      text-align: right;
    }

    .signature-line {
      width: 180px;      /* reduced */
      border-top: 1px solid #000;
      margin-left: auto;
      margin-bottom: 4px;
    }

    .footer {
      margin-top: 14px;  /* reduced */
      font-size: 9px;
      color: #444;
      text-align: center;
    }

    @media print {
      .pass {
        page-break-inside: avoid;
      }
      .divider {
        page-break-after: avoid;
      }
    }
  </style>
</head>

<body>

{% for copy in "12" %}
<div class="pass">

  <div class="header">
    <div class="company-name">{{ company }}</div>
    <div class="title">PRODUCT ISSUE PASS</div>
  </div>

  <table>
    <tr>
      <td class="label">Issue ID</td>
      <td class="value">{{ issue.id }}</td>
    </tr>
    <tr>
      <td class="label">Product</td>
      <td class="value">{{ issue.product.name }}</td>
    </tr>
    <tr>
      <td class="label">Warehouse</td>
      <td class="value">{{ issue.warehouse.name }}</td>
    </tr>
    <tr>
      <td class="label">Quantity Issued</td>
      <td class="value">{{ issue.quantity }} {{ issue.product.unit }}</td>
    </tr>
    <tr>
      <td class="label">Issued For</td>
      <td class="value">{{ issue.issue_type }}</td>
    </tr>
    <tr>
      <td class="label">Additional Notes</td>
      <td class="value">{{ issue.notes|default:"N/A" }}</td>
    </tr>
    <tr>
      <td class="label">Approved By</td>
      <td class="value">
        {{ issue.approved_by.get_full_name|default:issue.approved_by.username }}
      </td>
    </tr>
    <tr>
      <td class="label">Approved At</td>
      <td class="value">{{ issue.approved_at|date:"d.m.Y H:i" }}</td>
    </tr>
  </table>

  <div class="signature">
    <div class="signature-line"></div>
    <div>Authorised Signature</div>
  </div>

  <div class="footer">
    Generated on {{ generated_at|date:"d.m.Y H:i" }}<br/>
    This document authorizes inventory movement from the warehouse.
  </div>

</div>

{% if not forloop.last %}
  <div class="divider"></div>
{% endif %}
{% endfor %}

</body>
</html>
